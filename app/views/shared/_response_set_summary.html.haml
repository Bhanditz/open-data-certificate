- kitten_data = response_set.kitten_data

.summary-data
  %h3= t :summary, scope: :summary_data
  %dl
    =detail_item(t :type_of_release, scope: :summary_data)   { response_set.release_type_determined_from_responses }

    - licences = response_set.licences
    - if licences[:data] == licences[:content]
      =detail_item(t :licence, scope: :summary_data)         { licences[:data][:title] }
    - else
      =detail_item(t :data_licence, scope: :summary_data)    { licences[:data][:title] }
      =detail_item(t :content_licence, scope: :summary_data) { licences[:content][:title] }

    =detail_item(t :verification, scope: :summary_data) { t response_set.certificate.certification_type, scope: 'certificate.certification_types' }

    - if kitten_data
      - if release_date = kitten_data.get(:release_date)
        %dt= t :release_date, scope: :data_kitten
        %dd!= kitten_value(release_date)

      - if modified_date = kitten_data.get(:modified_date)
        %dt= t :modified_date, scope: :data_kitten
        %dd!= kitten_value(modified_date)

      - if update_frequency = kitten_data.get(:update_frequency)
        %dt= t :update_frequency, scope: :data_kitten
        %dd!= kitten_value(update_frequency)

      - if (publishers = kitten_data.get_list(:publishers)).any?
        %dt= t :publishers, scope: :data_kitten
        %dd!= kitten_value(publishers)

      - if (keywords = kitten_data.get_list(:keywords)).any?
        %dt= t :keywords, scope: :data_kitten
        %dd!= kitten_value(keywords)

      - excluded = Set.new([:description, :distributions, :release_date, :modified_date, :update_frequency, :publishers, :licenses, :keywords])
      - extra_data = kitten_data.data.reject{ |key,value| excluded.include?(key) || kitten_value(value).blank? }

      /# Ignore the title if it is the same as the certificate title
      - extra_data.delete(:title) if defined?(@certificate) && @certificate.response_set.try(:title) == extra_data[:title]

      - extra_data.each do |key, v|
        %dt= t key, scope: :data_kitten
        %dd!= kitten_value(v)
