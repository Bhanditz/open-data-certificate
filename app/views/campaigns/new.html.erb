<% content_for :header_title, "New Campaign" %>

<%= form_for @campaign, url: campaigns_path, method: :post do |f| %>

  <%= hidden_field_tag :version, 2 %>

  <div class="control-group">
    <%= f.label(:name, "Campaign name", class: "control-label") %>
    <div class="controls">
      <%= f.text_field :name %>
      <%= error_message_for(@campaign, :name) %>
    </div>
  </div>

  <div class="control-group">
    <%= f.label(:url, "CKAN URL", class: "control-label") %>
    <div class="controls">
      <%= f.text_field :url, class: "span6" %>
      <span class="help-inline">
        Provide the URL of a CKAN website (the homepage of the portal) or a URL to the ATOM feed.
      </span>
      <%= error_message_for(@campaign, :url) %>
    </div>
  </div>

  <div class="control-group">
    <%= f.label(:jurisdiction, "Jurisdiction", class: "control-label") %>
    <div class="controls">
      <%= f.select(:jurisdiction, jurisdiction_options_for_select(@campaign.jurisdiction)) %>
      <%= error_message_for(@campaign, :jurisdiction) %>
    </div>
  </div>

  <div class="control-group">
    <%= f.label(:dataset_url_template, "Dataset URL template (optional)", class: "control-label") %>
    <div class="controls">
      <%= f.text_field :dataset_url_template, class: "span6", placeholder: "dataset/{name}" %>
      <span class="help-inline">
        If the CKAN installation has customised dataset urls then you can change this template
      </span>
      <%= error_message_for(@campaign, :dataset_url_template) %>
    </div>
  </div>

  <div class="control-group">
    <div class="controls">
      <button type="submit" class="btn">Submit</button>
    </div>
  </div>

<% end %>
